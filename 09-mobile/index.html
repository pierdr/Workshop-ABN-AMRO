<html>
	<head>
	<!-- IMPORT LIBRARIES FROM A REMOTE SOURCE -->
	<!-- import jquery-->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<!-- import tramontana-->
		<script src="https://rawgit.com/pierdr/tramontana/master/lib/bft_min.js"></script>

	<!-- LOGIC -->
		<script type="text/javascript">
			/** global variables**/
			var iphone;
			var orientations=["","Portrait","PortraitUpsideDown","LandscapeLeft","LandscapeRight","FacingUp","FacingDown"];

			/** runtime code**/
			$(function(){
				iphone=new BFtObject();
				
				$("#startButton").on("click",function(){
					iphone.start($('#ipInput').val(),function(e){
						$('button').removeAttr('disabled');
						
						alert("iphone connected");
						iphone.setColor(255, 0, 0, 128);
					});
				});
				$("#subscribeButton").on("click",function(){
					iphone.subscribeOrientation(function(ip,e){
					$('#orientationContent').html(orientations[e-0]);
					});
				});

				$("#unsubscribeButton").on("click",function(){
					iphone.releaseOrientation()
				});
				
			});
		</script>
	</head>
<body>
	<h1>Tramontana Mobile</h1><br/>
	
		<div style="padding-bottom: 150px;">
		<h5>To get started download the Tramontana App on your iOS device:</h5>
		<a href="https://itunes.apple.com/us/app/tramontana/id1121069555?mt=8"><img src="https://darksky.net/app/images/appleAppStoreBadgeBig.png" alt="" width="150px"></a>
		</div>

		<!-- OPEN SOCKET -->
		<label>IPAddress</label>
		<input type="text" id="ipInput" placeholder="192.168.1.1">
		<button id="startButton">start</button><br/>
		<!------------------------------
			ORIENTATION
		-------------------------------->
		
			<p><b>Orientation</b></p>
			<p style="font-size:12px"> Note: check that your phone is not orientation locked.</p>
			<button id="subscribeButton" >subscribe orientation</button>
			<button id="unsubscribeButton" >unsubscribe orientation</button>
			<!-- ADD CONTENT -->
			<div style="padding:10px">Orientation:<span id="orientationContent">unknown</span></div>

		<div style="padding-top: 100px">
			<b>More examples <a href="https://github.com/pierdr/tramontana">here</a>.</b>

		</div>
		

	
	
</body>
</html>